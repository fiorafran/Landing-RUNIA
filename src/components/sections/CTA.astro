---
import Button from '../ui/Button.astro';

export interface Props {
  title?: string;
  subtitle?: string;
  primaryCTA?: {
    text: string;
    href?: string;
    variant?: 'primary' | 'secondary' | 'outline';
    size?: 'sm' | 'md' | 'lg' | 'xl';
  };
  secondaryCTA?: {
    text: string;
    href?: string;
    variant?: 'primary' | 'secondary' | 'outline';
    size?: 'sm' | 'md' | 'lg' | 'xl';
  };
  showStats?: boolean;
  stats?: Array<{
    value: string;
    label: string;
    icon?: string;
  }>;
  showContactInfo?: boolean;
  contactInfo?: {
    email?: string;
    phone?: string;
    whatsapp?: string;
    hours?: string;
  };
  background?: 'gradient' | 'solid' | 'pattern';
  className?: string;
}

const {
  title = "¬øListo para automatizar tu negocio?",
  subtitle = "Hablemos y cre√° el chatbot ideal para tu empresa. Nuestro equipo est√° listo para ayudarte a transformar tu atenci√≥n al cliente.",
  primaryCTA = {
    text: "Empezar ahora",
    href: "#contact",
    variant: "secondary",
    size: "xl"
  },
  secondaryCTA = {
    text: "Agendar demo gratis",
    href: "#demo",
    variant: "outline",
    size: "lg"
  },
  showStats = true,
  stats = [
    {
      value: "150+",
      label: "Clientes Satisfechos",
      icon: "üë•"
    },
    {
      value: "98%",
      label: "Tasa de Satisfacci√≥n",
      icon: "‚≠ê"
    },
    {
      value: "24/7",
      label: "Soporte Disponible",
      icon: "üïí"
    }
  ],
  showContactInfo = true,
  contactInfo = {
    email: "info@chatbots-ia.com",
    phone: "+54 11 1234-5678",
    whatsapp: "+54 11 1234-5678",
    hours: "Lun-Vie 9:00-18:00"
  },
  background = "gradient",
  className = ""
} = Astro.props;

const backgroundClasses = {
  gradient: "bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700",
  solid: "bg-primary-600",
  pattern: "bg-gradient-to-br from-primary-500 to-primary-700 bg-pattern"
};
---

<section id="cta" class={`section-padding relative overflow-hidden ${backgroundClasses[background]} ${className}`}>
  <!-- Background Pattern -->
  {background === 'pattern' && (
    <div class="absolute inset-0 bg-grid-pattern opacity-10"></div>
  )}
  
  <!-- Enhanced Floating Elements -->
  <div class="absolute top-1/4 left-10 w-32 h-32 bg-white/10 rounded-full blur-3xl animate-float"></div>
  <div class="absolute bottom-1/4 right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl animate-float-delayed"></div>
  <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-white/5 rounded-full blur-3xl animate-float-slow"></div>
  
  <!-- Additional Floating Elements -->
  <div class="absolute top-1/3 right-1/4 w-16 h-16 bg-accent-400/20 rounded-full blur-2xl animate-float-fast"></div>
  <div class="absolute bottom-1/3 left-1/4 w-20 h-20 bg-secondary-400/20 rounded-full blur-2xl animate-float-slower"></div>

  <div class="container-custom relative z-10">
    <div class="text-center text-white">
      <!-- Enhanced Badge -->
      <div class="inline-flex items-center px-8 py-4 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium mb-12 border border-white/30 shadow-lg hover:shadow-xl transition-shadow duration-500 group">
        <span class="w-3 h-3 bg-white rounded-full mr-4 animate-pulse group-hover:animate-bounce"></span>
        <span class="font-bold">Oferta Especial</span>
        <span class="ml-4 text-xs opacity-90 bg-white/20 px-3 py-1 rounded-full">30% de descuento</span>
      </div>

      <!-- Enhanced Main Content -->
      <h2 class="text-5xl md:text-7xl font-bold mb-10 leading-tight animate-fade-in">
        {title}
      </h2>
      
      <p class="text-xl md:text-3xl mb-16 max-w-5xl mx-auto leading-relaxed opacity-90 animate-fade-in-delayed">
        {subtitle}
      </p>

      <!-- Enhanced Stats Section -->
      {showStats && (
        <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mb-20">
          {stats.map((stat, index) => (
            <div class="text-center group" style={`animation-delay: ${index * 200}ms`}>
              <div class="text-5xl md:text-6xl font-bold mb-4 group-hover:scale-110 transition-transform duration-700 group-hover:rotate-3">
                <span class="inline-block group-hover:animate-bounce">{stat.icon}</span> {stat.value}
              </div>
              <div class="text-xl opacity-90 group-hover:opacity-100 transition-opacity duration-500 group-hover:text-accent-200">
                {stat.label}
              </div>
            </div>
          ))}
        </div>
      )}

      <!-- Enhanced CTA Buttons -->
      <div class="flex flex-col sm:flex-row gap-8 justify-center mb-20">
        <Button 
          variant={primaryCTA.variant} 
          size={primaryCTA.size} 
          href={primaryCTA.href}
          className="px-16 py-6 text-2xl shadow-2xl hover:shadow-3xl transform hover:-translate-y-3 transition-all duration-700 bg-white text-primary-600 hover:bg-gray-100 group relative overflow-hidden"
        >
          <span class="absolute inset-0 bg-gradient-to-r from-primary-400 to-secondary-400 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></span>
          <span class="relative flex items-center">
            <span class="mr-4 text-3xl group-hover:rotate-12 transition-transform duration-500">üöÄ</span>
            {primaryCTA.text}
          </span>
        </Button>
        
        {secondaryCTA && (
          <Button 
            variant={secondaryCTA.variant} 
            size={secondaryCTA.size} 
            href={secondaryCTA.href}
            className="px-10 py-5 text-xl border-3 border-white text-white hover:bg-white hover:text-primary-600 transition-all duration-500 transform hover:-translate-y-2 group relative overflow-hidden"
          >
            <span class="absolute inset-0 bg-white opacity-0 group-hover:opacity-100 transition-opacity duration-500"></span>
            <span class="relative flex items-center">
              <span class="mr-3 text-2xl group-hover:scale-110 transition-transform duration-500">üìÖ</span>
              {secondaryCTA.text}
            </span>
          </Button>
        )}
      </div>

      <!-- Enhanced Contact Info -->
      {showContactInfo && (
        <div class="grid grid-cols-1 md:grid-cols-4 gap-10 mb-16">
          <div class="text-center group">
            <div class="text-4xl font-bold mb-3 group-hover:scale-110 transition-transform duration-500 group-hover:rotate-12">üìß</div>
            <div class="font-bold mb-2 text-lg">Email</div>
            <div class="opacity-90 group-hover:opacity-100 transition-opacity duration-500 group-hover:text-accent-200">
              {contactInfo.email}
            </div>
          </div>
          
          <div class="text-center group">
            <div class="text-4xl font-bold mb-3 group-hover:scale-110 transition-transform duration-500 group-hover:rotate-12">üì±</div>
            <div class="font-bold mb-2 text-lg">WhatsApp</div>
            <div class="opacity-90 group-hover:opacity-100 transition-opacity duration-500 group-hover:text-accent-200">
              {contactInfo.whatsapp}
            </div>
          </div>
          
          <div class="text-center group">
            <div class="text-4xl font-bold mb-3 group-hover:scale-110 transition-transform duration-500 group-hover:rotate-12">üìû</div>
            <div class="font-bold mb-2 text-lg">Tel√©fono</div>
            <div class="opacity-90 group-hover:opacity-100 transition-opacity duration-500 group-hover:text-accent-200">
              {contactInfo.phone}
            </div>
          </div>
          
          <div class="text-center group">
            <div class="text-4xl font-bold mb-3 group-hover:scale-110 transition-transform duration-500 group-hover:rotate-12">‚è∞</div>
            <div class="font-bold mb-2 text-lg">Horarios</div>
            <div class="opacity-90 group-hover:opacity-100 transition-opacity duration-500 group-hover:text-accent-200">
              {contactInfo.hours}
            </div>
          </div>
        </div>
      )}

      <!-- Enhanced Trust Indicators -->
      <div class="mt-20 pt-12 border-t border-white/30">
        <div class="flex flex-col md:flex-row items-center justify-center space-y-6 md:space-y-0 md:space-x-12 text-base opacity-90">
          <div class="flex items-center group">
            <span class="mr-3 text-2xl group-hover:scale-110 transition-transform duration-500">üîí</span>
            <span class="group-hover:text-accent-200 transition-colors duration-500">Datos 100% seguros</span>
          </div>
          <div class="flex items-center group">
            <span class="mr-3 text-2xl group-hover:scale-110 transition-transform duration-500">‚ö°</span>
            <span class="group-hover:text-accent-200 transition-colors duration-500">Respuesta en 24h</span>
          </div>
          <div class="flex items-center group">
            <span class="mr-3 text-2xl group-hover:scale-110 transition-transform duration-500">üíØ</span>
            <span class="group-hover:text-accent-200 transition-colors duration-500">Sin compromiso</span>
          </div>
        </div>
      </div>

      <!-- Urgency Message -->
      <div class="mt-12 p-6 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20 max-w-2xl mx-auto">
        <div class="flex items-center justify-center space-x-4">
          <div class="w-4 h-4 bg-red-400 rounded-full animate-pulse"></div>
          <span class="text-lg font-semibold">¬°Oferta limitada! Solo hasta fin de mes</span>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .bg-grid-pattern {
    background-image: 
      linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px);
    background-size: 50px 50px;
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(180deg); }
  }
  
  @keyframes float-delayed {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-15px) rotate(-180deg); }
  }
  
  @keyframes float-slow {
    0%, 100% { transform: translateY(0px) scale(1); }
    50% { transform: translateY(-10px) scale(1.1); }
  }
  
  @keyframes float-fast {
    0%, 100% { transform: translateY(0px) scale(1); }
    50% { transform: translateY(-8px) scale(1.05); }
  }
  
  @keyframes float-slower {
    0%, 100% { transform: translateY(0px) scale(1); }
    50% { transform: translateY(-5px) scale(1.02); }
  }
  
  @keyframes fade-in {
    0% { opacity: 0; transform: translateY(20px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }
  
  .animate-float-delayed {
    animation: float-delayed 8s ease-in-out infinite;
  }
  
  .animate-float-slow {
    animation: float-slow 10s ease-in-out infinite;
  }
  
  .animate-float-fast {
    animation: float-fast 4s ease-in-out infinite;
  }
  
  .animate-float-slower {
    animation: float-slower 12s ease-in-out infinite;
  }
  
  .animate-fade-in {
    animation: fade-in 1s ease-out;
  }
  
  .animate-fade-in-delayed {
    animation: fade-in 1s ease-out 0.3s both;
  }
</style> 